---
layout: post
title:  "Change and Progress"
date:   2023-03-24 10:37:19 -0400
categories: PubMedTM
---
About three months ago, Dr. William Mattingly (Postdoctoral Fellow for the Analysis of Historical Documents at the Smithsonian Institution's Data Science Lab) and Joel Lee (Digital Humanities Associate Fellow at the United States Holocaust Museum) released [LeetTopic](https://github.com/wjbmattingly/LeetTopic) (LT). As the name suggests, LT is a new topic modeling package. New python-based topic modeling tools like Top2Vec and BERTopic have recently challenged the dominance of Latent Dirichlet Allocation (LDA) in topic modeling. LDA still has a place in topic modeling work, but newer techniques have certain benefits, like requiring less textual cleaning and preprocessing before running the model. These more recent tools are also, arguably, more accessible to beginners and come equipped with more useful features that a user would otherwise need to implement themselves when working with LDA. As one of the most recent entries to the space, LT seeks to build on the most valuable features of Top2Vec and BERTopic while also rectifying some of their shortcomings.

LT's greatest advantage is its ability to tune the handling of outliers. Top2Vec automatically assigns outliers to the nearest topic cluster. BERTopic places all outliers in one separate cluster. In contrast, LT allows users to set a threshold for outlier inclusion in other topics. In other words, if an outlier is below the threshold, it will be included in the nearest topic, but if it is above the threshold, it will be put in an outlier cluster. LT also preserves the data necessary to allow the user to identify and analyze all outliers in the model, regardless of where they were assigned.

However, LT also has some shortcomings. First, there is no way to easily search the model for documents or topics. While LT gives helpful information about the centroids and coordinates of topics and documents (the mathematical descriptions of the topics), one key element of PubMedTM is creating a simple and accessible semantic search tool that is not too dissimilar from the search engines many users will be familiar with. Second, LT only outputs the lemmatized form of documents in its final dataframe rather than their original text. Lemmatized documents are much less human-readable and not suitable for the UI/UX I am envisioning for my project. Additional coding on my part could rectify both shortcomings. Still, it's always easier to work with the designed workflow of a package than try to engineer workarounds that add additional functionality.

The PubMedTM project originated over two years ago when Topic2Vec was just released. As such, I chose to work with Top2Vec, which has been a part of the project since then. As I have recently begun working on creating a more full-featured version of the project, I am now forced to decide if it is worthwhile to switch to LT instead. I have previously had to change my approach to the project in response to technical developments. For example, last year the NIH altered its E-utilities API, which rendered my old script for data extraction useless. In response, I was forced to switch to the UNIX command-line based EDirect tool to extract data. However, this is the first time I have had a chance to change the technical aspects of the project voluntarily.

While there are substantive advantages to LT, I have decided not to use it in the project at this time. The amount of time it would take to do a complete rewrite is prohibitive, considering that I (and many funding providers) value a "done" project with some limitations more than a theoretically "perfect" project that is incomplete and unreleased. LT is also a brand-new project, meaning that future updates or changes might require further rewrites or new dependencies that might create an additional hassle. I assume that more mature projects are less likely to undergo significant changes that can break things. Sticking with the packages I'm already using because it would be a lot of work to change things is a form of path dependency that could be problematic in the future. However, I feel like this is the best decision right now.